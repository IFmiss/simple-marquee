import e,{memo as r,useRef as t,useState as a,useMemo as n,useCallback as o,useEffect as i,isValidElement as u}from"react";import l from"classnames";import m from"prop-types";var _=function(){return(_=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};var c={marquee:"marquee_marquee__Nz98b",marquee_wrap:"marquee_marquee_wrap__1TAX4",horizontal:"marquee_horizontal__2VxxY","horizontal-reverse":"marquee_horizontal-reverse__2XfVQ","vertical-reverse":"marquee_vertical-reverse__1e2CE",vertical:"marquee_vertical__3Fn_Q"};!function(e,r){void 0===r&&(r={});var t=r.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===t&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}(".marquee_marquee__Nz98b{width:100%;opacity:1}.marquee_marquee__Nz98b .marquee_marquee_wrap__1TAX4{flex:0 0 auto;width:auto;opacity:1;will-change:auto}.marquee_marquee__Nz98b.marquee_horizontal__2VxxY,.marquee_marquee__Nz98b.marquee_horizontal-reverse__2XfVQ{display:flex}.marquee_marquee__Nz98b.marquee_horizontal-reverse__2XfVQ .marquee_marquee_wrap__1TAX4,.marquee_marquee__Nz98b.marquee_horizontal__2VxxY .marquee_marquee_wrap__1TAX4{display:inline-flex;min-width:100%}.marquee_marquee__Nz98b.marquee_vertical-reverse__1e2CE .marquee_marquee_wrap__1TAX4,.marquee_marquee__Nz98b.marquee_vertical__3Fn_Q .marquee_marquee_wrap__1TAX4{min-height:100%}");var s=function(r){var u,m=r.speed,s=void 0===m?1:m,p=r.children,d=r.indent,v=void 0===d?0:d,f=r.direction,q=void 0===f?"horizontal":f,h=r.stop,y=void 0!==h&&h,b=r.style,z=r.className,w=function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(t[a[n]]=e[a[n]])}return t}(r,["speed","children","indent","direction","stop","style","className"]),N=t(null),x=t(null),g=a(v),O=g[0],T=g[1],A=n((function(){return"horizontal-reverse"===q||"vertical-reverse"===q}),[q]),E=n((function(){return"vertical"===q||"vertical-reverse"===q}),[q]),C=o((function(){var e,r=E?"height":"width";return(null===(e=x.current)||void 0===e?void 0:e.getBoundingClientRect()[r])-v}),[E,v]);i((function(){T(C())}),[]),i((function(){return y?u&&cancelAnimationFrame(u):(X(),function(){cancelAnimationFrame(u)})}),[O,y]);var X=o((function(){var e=E?"height":"width";u=requestAnimationFrame((function(){!function(){var r,t;A?T(O<=1?C():function(e){return e-s}):O>=(null!==(t=null===(r=x.current)||void 0===r?void 0:r.getBoundingClientRect()[e])&&void 0!==t?t:0)-1?T(0):T((function(e){return e+s}))}()}))}),[O,y,s]),j={transform:E?"translate3d(0, -"+O+"px, 0)":"translate3d(-"+O+"px, 0, 0)"},V=l(c.marquee,c[q],z),F=l(c.marquee_wrap);return e.createElement("div",_({},w,{className:V,ref:N,style:_(_({},b),{overflow:"hidden"})}),e.createElement("div",{className:F,ref:x,style:j},p),e.createElement("div",{className:F,style:j},p))};s.propTypes={speed:m.number,indent:m.number,direction:m.oneOf(["horizontal","vertical","horizontal-reverse","vertical-reverse"]),stop:m.bool},s.displayName="Marquee";var p=r(s),d=function(r){var t=r.stop,a=void 0!==t&&t,n=r.children;return e.createElement("div",null,e.Children.map(n,(function(r,t){return u(r)?e.cloneElement(r,{key:t,stop:a}):r}))||null)};d.propTypes={stop:m.bool},d.displayName="MarqueeGroup";var v=p;v.MarqueeGroup=d;export default v;
